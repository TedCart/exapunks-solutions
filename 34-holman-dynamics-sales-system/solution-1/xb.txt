MAKE
COPY 16 T
MARK RECLOOP
COPY M F
SUBI T 1 T
TJMP RECLOOP
SEEK -9999
COPY 0 X
MARK CHECKFOR9999
ADDI X 1 X
TEST F = -9999
TJMP CUTFILE
TEST EOF
FJMP CHECKFOR9999
SEEK -9999
COPY 0 X
MARK CALCLOOP
MULI F 2 T
TEST T > 9
FJMP NOMINUSNINE
SUBI X 9 X
MARK NOMINUSNINE
SEEK -1
MULI F 2 T
ADDI X T X
ADDI X F X
TEST EOF
FJMP CALCLOOP
SWIZ X 1 X
TEST X = 0
TJMP SUCCESS
COPY 1 X
JUMP CUTFILE

MARK SUCCESS
DROP
LINK 800
LINK 802
LINK 799
KILL

MARK CUTFILE
SEEK -9999
COPY X T
MARK CUTLOOP
VOID F
SUBI T 1 T
TJMP CUTLOOP
COPY X T
SEEK 9999
JUMP RECLOOP
