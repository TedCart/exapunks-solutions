;DIRECTORBOT
LINK 800
MARK START
MAKE
@REP 10
COPY M F
@END
SEEK -9999
TJMP CONTINUEDIR2
REPL DIRECTOR2
MARK NEWBOT
MODE;TO LOCAL
VOID M;BEGIN DIRECTION
COPY F X
REPL WORKERBOT
MODE;TO GLOBAL
COPY 1 M;ACTIVATE SENDER
COPY 0 M;ACTIVATE RECEIV
TEST EOF
FJMP NEWBOT
WIPE
HALT

MARK DIRECTOR2
COPY 1 T
JUMP START
MARK CONTINUEDIR2
MODE;TO LOCAL
COPY 0 M;BEGIN DIRECTION
MARK NEWBOT2
COPY F X
NOOP
REPL WORKERBOT
VOID M
TEST EOF
FJMP NEWBOT2
WIPE
KILL
HALT

MARK WORKERBOT
MODE;TO GLOBAL
SWIZ X 3 T
ADDI T 800 T
LINK T
COPY M T;IS SENDERBOT
FJMP RECTRIAGE
;SEND BOT
SWIZ X 2 T
ADDI T 200 T
GRAB T
SWIZ X 1 T
MULI T 10 T
SEEK T
SWIZ X 32 M
MARK SENDLOOP
@REP 10
COPY F M
@END
COPY M T
FJMP EDITCOMPLETE
;READITBACK
SEEK -9999
MULI M 10 X
SEEK X
JUMP RECLOOP
MARK EDITCOMPLETE
DROP
JUMP ALERTDIRECTORS


MARK RECTRIAGE
SWIZ X 32 T
TEST T = M
TJMP RETURNTOSENDER
SWIZ X 2 T
ADDI T 200 T
GRAB T
SWIZ X 1 T
MULI T 10 T
SEEK T
COPY 0 T
JUMP RECLOOP
MARK RETURNTOSENDER
MAKE
MARK RECLOOP
@REP 10
COPY M F
@END
COPY T M
FJMP DOOM
SWIZ X 1 M
SEEK -9999
;JUMP SENDLOOP
COPY 5 T
MARK XLOOP
COPY F M
COPY F M
SUBI T 1 T
TJMP XLOOP
KILL
WIPE

MARK ALERTDIRECTORS
LINK -1
MODE;TO LOCAL
COPY 0 M
COPY 0 M
MARK DOOM
